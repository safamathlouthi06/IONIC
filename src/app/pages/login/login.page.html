<ion-header [translucent]="true">
  <ion-toolbar color="primary" class="login-toolbar">
    <ion-title>Connexion</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="login-content">
  <div class="login-container">
    <!-- Section illustration -->
    <div class="illustration-section">
      <div class="welcome-illustration">
        <span class="welcome-emoji">👋</span>
      </div>
      <div class="welcome-text">
        <h1 class="welcome-title">Content de vous revoir !</h1>
        <p class="welcome-subtitle">Connectez-vous pour gérer votre boutique</p>
      </div>
    </div>

    <!-- Formulaire de connexion -->
    <form [formGroup]="loginForm" (ngSubmit)="login()" class="login-form">
      <!-- Champ Email -->
      <div class="input-group">
        <div class="input-container">
          <div class="input-icon">📧</div>
          <div class="input-field">
            <label class="input-label">Adresse email</label>
            <input 
              type="email" 
              formControlName="email"
              placeholder="exemple@email.com"
              class="custom-input">
          </div>
        </div>
        @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
          <div class="error-message">
            Veuillez entrer une adresse email valide
          </div>
        }
      </div>

      <!-- Champ Mot de passe -->
      <div class="input-group">
        <div class="input-container">
          <div class="input-icon">🔒</div>
          <div class="input-field">
            <label class="input-label">Mot de passe</label>
            <input 
              type="password" 
              formControlName="password"
              placeholder="Votre mot de passe"
              class="custom-input">
          </div>
        </div>
        @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
          <div class="error-message">
            Le mot de passe est requis
          </div>
        }
      </div>

      <!-- Lien mot de passe oublié -->
      <div class="forgot-password">
        <a href="#" class="forgot-link">🔐 Mot de passe oublié ?</a>
      </div>

      <!-- Bouton de connexion -->
      <button 
        type="submit" 
        class="login-button"
        [class.loading]="isLoading"
        [disabled]="!loginForm.valid || isLoading">
        @if (isLoading) {
          <div class="button-loading">
            <span class="loading-spinner"></span>
            Connexion...
          </div>
        } @else {
          <span>🚀 Se connecter</span>
        }
      </button>
    </form>

    <!-- Séparateur -->
    <div class="separator">
      <span class="separator-line"></span>
      <span class="separator-text">Ou continuer avec</span>
      <span class="separator-line"></span>
    </div>

    <!-- Connexion rapide -->
    <div class="quick-login">
      <button class="quick-button google-button">
        <span class="quick-icon">🔍</span>
        <span class="quick-text">Google</span>
      </button>
      
      <button class="quick-button facebook-button">
        <span class="quick-icon">👥</span>
        <span class="quick-text">Facebook</span>
      </button>
    </div>

    <!-- Lien d'inscription -->
    <div class="register-section">
      <p class="register-text">
        Nouveau sur MiniMarket ? 
        <a routerLink="/register" class="register-link">📝 Créer un compte</a>
      </p>
    </div>

    <!-- Message d'erreur -->
    @if (errorMessage) {
      <div class="error-banner">
        <span class="error-icon">⚠️</span>
        <span class="error-text">{{ errorMessage }}</span>
      </div>
    }
  </div>
</ion-content>